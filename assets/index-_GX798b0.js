import{r as c,a as R,p as y,L as F,U as T,Z as q,b as M,D as K,P as U,c as $,S as Q}from"./vendor-CVhsQK75.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function m(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(s){if(s.ep)return;s.ep=!0;const t=m(s);fetch(s.href,t)}})();var S={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=c,H=Symbol.for("react.element"),Z=Symbol.for("react.fragment"),B=Object.prototype.hasOwnProperty,G=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J={key:!0,ref:!0,__self:!0,__source:!0};function E(u,n,m){var a,s={},t=null,d=null;m!==void 0&&(t=""+m),n.key!==void 0&&(t=""+n.key),n.ref!==void 0&&(d=n.ref);for(a in n)B.call(n,a)&&!J.hasOwnProperty(a)&&(s[a]=n[a]);if(u&&u.defaultProps)for(a in n=u.defaultProps,n)s[a]===void 0&&(s[a]=n[a]);return{$$typeof:H,type:u,key:t,ref:d,props:s,_owner:G.current}}h.Fragment=Z;h.jsx=E;h.jsxs=E;S.exports=h;var e=S.exports,O,P=R;O=P.createRoot,P.hydrateRoot;y.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${y.version}/build/pdf.worker.min.js`;const W={zh:"你是一個專業的面試助手，負責回答關於這份履歷的問題。請基於履歷內容提供準確、專業的回答。如果問題超出履歷範圍，請明確指出。回答時要保持專業、客觀的語氣。",en:"You are a professional interview assistant responsible for answering questions about this resume. Please provide accurate and professional answers based on the resume content. If a question goes beyond the scope of the resume, please clearly indicate this. Maintain a professional and objective tone in your responses."},l={zh:{title:"Ask about me",upload:"點擊上傳或拖放 PDF 檔案",questionPlaceholder:"請輸入您的問題... (按 Enter 送出，Shift+Enter 換行)",processing:"處理中...",askQuestion:"送出問題",answer:"回答：",error:"抱歉，處理您的問題時發生錯誤。請重試。",disclaimer:"* 回答僅供參考，請以 PDF 內容為準",designer:"設計者",currentModel:"使用模型",scrollHint:"* 可上下滾動查看完整內容",apiKeyError:"請先設定 OpenAI API Key"},en:{title:"Ask about me",upload:"Click to upload or drag and drop a PDF file",questionPlaceholder:"Ask a question... (Press Enter to submit, Shift+Enter for new line)",processing:"Processing...",askQuestion:"Ask Question",answer:"Answer:",error:"Sorry, there was an error processing your question. Please try again.",disclaimer:"* Answers are for reference only, please refer to the PDF content",designer:"Designer",currentModel:"Current Model",scrollHint:"* Scroll to view full content",apiKeyError:"Please set your OpenAI API Key first"}};function Y(){const[u,n]=c.useState(0),[m,a]=c.useState(.9),[s,t]=c.useState(null),[d,b]=c.useState(""),[x,L]=c.useState(""),[j,g]=c.useState(""),[w,N]=c.useState(!1),[o,_]=c.useState("zh");c.useEffect(()=>{t("/Ask-aboutMe/許育宸.pdf")},[]);async function A({numPages:r}){if(n(r),s){const i=await y.getDocument(s).promise;let p="";for(let f=1;f<=r;f++){const D=(await(await i.getPage(f)).getTextContent()).items.map(I=>I.str).join(" ");p+=D+`
`}b(p)}}const k=r=>{var p;const i=(p=r.target.files)==null?void 0:p[0];if(i){const f=URL.createObjectURL(i);t(f),g(""),b("")}},v=async r=>{if(r.preventDefault(),!(!x.trim()||!d)){N(!0);try{const i=await fetch("https://api.yuchenhsu.com/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"system",content:W[o]},{role:"user",content:`这是一份履歷的內容：

${d}

問題：${x}`}]})});if(!i.ok)throw new Error("API request failed");const p=await i.json();g(p.choices[0].message.content||l[o].error)}catch(i){console.error("Error:",i),g(l[o].error)}finally{N(!1)}}},C=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),v(r))};return e.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:l[o].title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l[o].disclaimer})]}),e.jsxs("button",{onClick:()=>_(r=>r==="zh"?"en":"zh"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{children:o.toUpperCase()})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[l[o].designer,":"]})," 許育宸"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Email:"})," rufushsu9987@gmail.com"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Phone:"})," 0975-115-201"]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[l[o].currentModel,":"]})," GPT-3.5-turbo"]})]}),!s&&e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center",children:e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:k,className:"hidden"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(T,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("span",{className:"text-gray-600",children:l[o].upload})]})]})}),s&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>a(r=>Math.max(.5,r-.1)),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(q,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>a(r=>Math.min(2,r+.1)),className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("span",{className:"p-2",children:[Math.round(m*100),"%"]})]}),e.jsx("p",{className:"text-sm text-gray-500 italic",children:l[o].scrollHint})]}),e.jsx("div",{className:"border rounded-lg bg-gray-50 overflow-y-auto",style:{height:"calc(100vh - 300px)"},children:e.jsx(K,{file:s,onLoadSuccess:A,className:"flex flex-col items-center p-4",children:Array.from(new Array(u),(r,i)=>e.jsx("div",{className:"mb-4",children:e.jsx(U,{pageNumber:i+1,scale:m,className:"shadow-lg bg-white",renderTextLayer:!0,renderAnnotationLayer:!0})},`page_${i+1}`))})})]}),e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex-grow",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:l[o].title}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("textarea",{value:x,onChange:r=>L(r.target.value),onKeyDown:C,placeholder:l[o].questionPlaceholder,className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:4})}),e.jsx("button",{type:"submit",disabled:w||!d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx($,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:l[o].processing})]}):e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("span",{children:l[o].askQuestion})]})})]}),j&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:l[o].answer}),e.jsx("div",{className:"bg-white p-4 rounded-lg border",children:j})]})]})})]})]})})})}O(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsx(Y,{})}));
